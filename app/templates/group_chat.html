
<script src="https://cdn.socket.io/4.6.0/socket.io.min.js" integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.5.1.js"
integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<main>

    <div id="message-container"></div>
    GROUP CHATTING!
    <div id="test">
        <label for="name" class="form__label">Test</label>
        <input type="text" name="test_name" placeholder="Test" class="" />
    </div>

   

    <script>
        const currentLocation = document.location.pathname
        const socket = io.connect({ autoConnect: true });
        if (currentLocation.includes('/group-chat/')){
            const pathSplit = currentLocation.split('/')
            const groupId = pathSplit[2]
            // Establish a connection to the server using Socket.IO
            socket.connect();
            socket.on("connect", function() {
                let username = document.getElementById("username").value;
                socket.emit("user_join", username);
            })
            console.log("groupId", groupId)
        }

        console.log("Document location", document.location.pathname)
        

        document.getElementById("test").style.display = "block";
        
    

    </script>
</main>